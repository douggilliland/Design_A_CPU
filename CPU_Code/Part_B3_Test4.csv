LABEL,OPCODE,REG_LABEL,OFFSET_ADDR,COMMENT,V3.0.0
START,LRI,0x00,0XFF,255 MSEC LOOP TIMER,
INITSH,LRI,0X01,0X01,R1 HAS SHIFT LEFYT VALUE,
NEXTW1,IOW,0X01,0X0C,WRITE TO J12 OUTPUT PORT,
,JSR,WRTWT_T,,WAIT FOR 255 MSECS,
,SLL,0X01,0X01,SHIFT REG1 LEFT BY 1,
,ARI,0X01,0XFF,CHECK IF DONE,
,BNZ,NEXTW1,,DO OOTHER DIRECTION,
INITSH2,LRI,0X01,0X40,R1 HAS SHIFT RIGHT VALUE,
NEXTW2,IOW,0X01,0X0C,WRITE TO J12 OUTPUT PORT,
,JSR,WRTWT_T,,WAIT FOR 255 MSECS,
,SLR,0X01,0X01,SHIFT REG1 RIGHT BY 1,
,ARI,0X01,0X7E,CHECK IF DONE,
,BNZ,NEXTW2,,RELOAD REG1,
,JMP,INITSH,,LOOP,
WRTWT_T,IOW,0X00,0X09,WRITE MSEC COUNT PASSED IN R0,
WAIT_RT,IOR,0X07,0X08,READ TIMER STATUS TO R7,
,ARI,0X07,0X01,CHECK TIMER DONE,
,BNZ,WAIT_RT,,WAIT UNTIL TIMER,
,RTS,,,,
